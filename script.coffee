canvas = document.getElementById 'sample'
ctx = canvas.getContext '2d'

baseX = 0
baseY = 0

class Digitama
	constructor: ->
		@waiting = [
				[
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
					[0,0,0,0,0,1,1,0,1,0,1,0,0,0,0,0],
					[0,0,0,0,1,0,1,0,1,1,0,1,0,0,0,0],
					[0,0,0,1,0,1,1,0,0,1,0,0,1,0,0,0],
					[0,0,0,1,0,1,0,0,0,1,1,0,1,0,0,0],
					[0,0,1,0,0,1,0,0,1,1,1,0,0,1,0,0],
					[0,0,1,0,1,1,0,0,1,0,1,1,0,1,0,0],
					[0,0,1,0,1,0,0,0,1,0,0,1,0,1,0,0],
					[0,0,1,0,1,0,0,0,1,0,0,1,0,1,0,0],
					[0,0,0,1,1,0,0,1,0,0,1,1,1,0,0,0],
					[0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0],
					[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0]
				],
				[
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
					[0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0],
					[0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,0],
					[0,0,0,0,0,1,0,1,0,1,1,0,1,0,0,0],
					[0,0,0,0,1,0,1,1,0,0,1,0,0,1,0,0],
					[0,0,0,0,1,0,1,0,0,0,1,1,0,1,0,0],
					[0,0,0,1,0,0,1,0,0,1,1,1,0,0,1,0],
					[0,0,0,1,0,1,1,0,0,1,0,1,1,0,1,0],
					[0,0,0,1,0,1,0,0,0,1,0,0,1,0,1,0],
					[0,0,0,1,0,1,0,0,0,1,0,0,1,0,1,0],
					[0,0,0,0,1,1,0,0,1,0,0,1,1,1,0,0],
					[0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0],
					[0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0]
				]
			] 
		@name = "digitama"
	hungry = 4
	vitality = 4
	wait: -> 
		console.log "#{@name} moving!"
	eat: ->
		hungry -= 1
		console.log "#{hungry}"
	drawing: (dots) ->
		ctx.clearRect baseX, baseY, 175, 175
		x = baseX
		y = baseY
		i = 0
		while i < 16
			j = 0
			while j < 16
				ctx.fillRect x, y, 10, 10  if dots[i][j] is 1
				x += 11
				j++
			x = baseX
			y += 11
			i++    

class Zurumon extends Digitama
	constructor: ->
		@name = "zurumon"

monster = new Digitama
monster.wait()

frame = 1

setInterval (->
		monster.drawing monster.waiting[frame%2]
		frame++
), 1000
